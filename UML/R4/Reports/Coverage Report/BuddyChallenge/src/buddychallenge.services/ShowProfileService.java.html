<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../.resources/report.gif" type="image/gif"/><title>ShowProfileService.java</title><link rel="stylesheet" href="../../../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../.sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">test (3 Ιουν 2015 4:27:49 πμ)</a> &gt; <a href="../../index.html" class="el_group">BuddyChallenge</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">buddychallenge.services</a> &gt; <span class="el_source">ShowProfileService.java</span></div><h1>ShowProfileService.java</h1><pre class="source lang-java linenums">/*
 * 
 */
package buddychallenge.services;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import buddychallenge.dao.PostsDAO;
import buddychallenge.entities.Post;
import buddychallenge.entities.User;
import buddychallenge.util.Gender;

// TODO: Auto-generated Javadoc
/**
 * The Class ShowProfile.
 */
public class ShowProfileService {

	/** The id. */
	private static int id;
	
	/** The show profile id. */
	private int showProfileID;

	/** The user profile. */
	private User currentuser, userProfile;
	
	/** The posts. */
	private PostsDAO posts;

	/**
	 * Instantiates a new show profile.
	 *
	 * @param currentuser the currentuser
	 * @param userProfile the user profile
	 * @param posts the posts
	 */
<span class="fc" id="L40">	public ShowProfileService(User currentuser, User userProfile, PostsDAO posts) {</span>
<span class="fc" id="L41">		showProfileID = id++;</span>
<span class="fc" id="L42">		setCurrentuser(currentuser);</span>
<span class="fc" id="L43">		setUserProfile(userProfile);</span>
<span class="fc" id="L44">		setPosts(posts);</span>
<span class="fc" id="L45">	}</span>

	/**
	 * Gets the profile name.
	 *
	 * @return the profile name
	 */
	public String getProfileName() {
<span class="nc" id="L53">		return userProfile.getFirstname() + &quot; &quot; + userProfile.getLastname();</span>
	}

	/**
	 * Gets the profile gender.
	 *
	 * @return the profile gender
	 */
	public Gender getProfileGender() {
<span class="nc" id="L62">		return userProfile.getGenre();</span>

	}

	/**
	 * Gets the profile date.
	 *
	 * @return the profile date
	 */
	public Date getProfileDate() {
<span class="nc bnc" id="L72" title="All 2 branches missed.">		if (currentuser.hasBuddy(userProfile))</span>
<span class="nc" id="L73">			return userProfile.getBirthdate();</span>
<span class="nc" id="L74">		return null;</span>
	}

	/**
	 * Gets the post list that satisfies the rules besides the 2 users.
	 *
	 * @return the post list
	 */
	public List&lt;Post&gt; getPostList() {
<span class="fc" id="L83">		List&lt;Post&gt; returnPosts = new ArrayList&lt;Post&gt;();</span>
<span class="fc bfc" id="L84" title="All 2 branches covered.">		for (Post p : posts.getPostList()) {</span>
<span class="pc bpc" id="L85" title="1 of 4 branches missed.">			if(p.getUser().equals(userProfile) &amp;&amp; p.getRule().hasAccess(userProfile, currentuser)){</span>
<span class="fc" id="L86">				returnPosts.add(p);</span>
			}
		}

<span class="fc" id="L90">		return returnPosts;</span>
	}
	
	/**
	 * Gets the my posts.
	 *
	 * @return the my posts
	 */
	public List&lt;Post&gt; getMyPosts(){
<span class="nc" id="L99">		return userProfile.getPosts();</span>
	}

	/**
	 * Gets the show profile id.
	 *
	 * @return the show profile id
	 */
	public int getShowProfileID() {
<span class="nc" id="L108">		return showProfileID;</span>
	}

	/**
	 * Gets the currentuser.
	 *
	 * @return the currentuser
	 */
	public User getCurrentuser() {
<span class="nc" id="L117">		return currentuser;</span>
	}

	/**
	 * Sets the currentuser.
	 *
	 * @param currentuser the new currentuser
	 */
	public void setCurrentuser(User currentuser) {
<span class="fc" id="L126">		this.currentuser = currentuser;</span>
<span class="fc" id="L127">	}</span>

	/**
	 * Gets the user profile.
	 *
	 * @return the user profile
	 */
	public User getUserProfile() {
<span class="nc" id="L135">		return userProfile;</span>
	}

	/**
	 * Sets the user profile.
	 *
	 * @param userProfile the new user profile
	 */
	public void setUserProfile(User userProfile) {
<span class="fc" id="L144">		this.userProfile = userProfile;</span>
<span class="fc" id="L145">	}</span>

	/**
	 * Gets the posts.
	 *
	 * @return the posts
	 */
	public PostsDAO getPosts() {
<span class="nc" id="L153">		return posts;</span>
	}

	/**
	 * Sets the posts.
	 *
	 * @param posts the new posts
	 */
	public void setPosts(PostsDAO posts) {
<span class="fc" id="L162">		this.posts = posts;</span>
<span class="fc" id="L163">	}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.2.201409121644</span>test (3 Ιουν 2015 4:27:49 πμ)</div></body></html>